<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vesper+Libre&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
    <script src="https://kit.fontawesome.com/f0652e315c.js" crossorigin="anonymous"></script>
    <script>
        window.addEventListener("load", function () {
            let show = localStorage.getItem("showmodal");
            
            console.log(show);
            console.log(localStorage.getItem("showmodal"))
            if (show == 'show') {
                document.getElementById("modalbutton").click();
                localStorage.setItem("showmodal", 'hide');


            }




        })
    </script>
    <link rel="stylesheet" href="./style.css">


    <title>Card Page</title>
</head>

<body>


    <div class="mymodal" id="mymodal">

        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
            id="modalbutton" style="display: none;">
            Launch demo modal
        </button>
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Change password here</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <input type="text" class="modalitems" id="modaloldpass" placeholder="old password">
                        <input type="text" class="modalitems" id="modalnewpass" placeholder="new password">
                        <input type="text" class="modalitems" id="modalconfirmnewpass"
                            placeholder="confirm new password">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" onclick="modalsave()">Save changes</button>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div class="containers">
        <div class="text-center">
            <h1 class="">Add your Cards here </h1>


            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="35" height="35" style="margin-top: 4rem;"
                onclick="deleteall()">
                <path fill-rule="evenodd"
                    d="M16 1.75V3h5.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75zm-6.5 0a.25.25 0 01.25-.25h4.5a.25.25 0 01.25.25V3h-5V1.75z">
                </path>
                <path
                    d="M4.997 6.178a.75.75 0 10-1.493.144L4.916 20.92a1.75 1.75 0 001.742 1.58h10.684a1.75 1.75 0 001.742-1.581l1.413-14.597a.75.75 0 00-1.494-.144l-1.412 14.596a.25.25 0 01-.249.226H6.658a.25.25 0 01-.249-.226L4.997 6.178z">
                </path>
                <path
                    d="M9.206 7.501a.75.75 0 01.793.705l.5 8.5A.75.75 0 119 16.794l-.5-8.5a.75.75 0 01.705-.793zm6.293.793A.75.75 0 1014 8.206l-.5 8.5a.75.75 0 001.498.088l.5-8.5z">
                </path>
            </svg>
            <h3 class="heading">Delete All </h3>
            <div class="card" style="width: 40rem; height:23rem;" id="card">
                <div class="card-body" style="box-shadow: 0 0 0.5 0.5 (black);" id="card-body">
                    <h1 class="card-title text-center">State Bank of India</h1>

                    <input type="text" placeholder="Cardholder Name"
                        style="display:block; height:50px;margin-left: 2.5rem;" class="cardnumber" id="cardname">
                    <input type="number" placeholder="Card Number"
                        style="display:block; height:50px;margin-left: 2.5rem;" class="cardnumber" id="cardnumber" oninput="cardsetter()"> 
                        <i class="fa fa-brands fa-cc-visa fas-2xl" style="display: none;" id="visa"></i>
                        <i class="fa fa-brands fa-cc-mastercard"   style="display: none;" id="mastercard"></i>


                    <input type="number" placeholder="Expiry/ Validity" class="cardexp"
                        style="height:40px; margin-left: 1.5rem; margin-top: 1.5rem; margin-right: 11rem;" id="cardexp">
                    <input type="number" placeholder="CVV" class="cardcvv"
                        style="height: 40px; width: 80px; margin-top: 1.5rem;" id="cardcvv">
                    <button class="btn-primary"
                        style="display: block;margin: 0 auto; margin-top: 0.5rem;padding: 0.8rem 2rem; border-radius: 10px;"
                        onclick="cardadder()" id="addtask">Add</button>
                    <button id="savetask"
                        style="display:none;margin: 0 auto; margin-top: 0.5rem;padding: 0.8rem 2rem; border-radius: 10px; background-color: blue; color: white;">
                        Save task</button>

                </div>

            </div>


            <input type="text" style="display: none;" id="indexsaver">
            <div class="cardcontent" id="cardcontent">


            </div>
        </div>

    </div>












    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="./homepage.js"></script>

    <script>

        const dragArea = document.querySelector(".cardcontent");
        new Sortable(dragArea, {
            animation: 350
        })



    </script>

    <script>
        function modalsave() {
            let save = localStorage.getItem("index");

            let i = parseInt(save);
            console.log(typeof (i));
            let webtask = localStorage.getItem("username");
            let passtask = JSON.parse(localStorage.getItem("password"));
            const modaloldpass = document.getElementById("modaloldpass").value;
            const modalnewpass = document.getElementById("modalnewpass");

            console.log(passtask);
            // console.log(passtask[save]);
            if (modaloldpass == passtask[i]) {

                passtask[i] = modalnewpass.value;
                localStorage.setItem("password", JSON.stringify(passtask));


            }

        }
    </script>






</body>

</html>